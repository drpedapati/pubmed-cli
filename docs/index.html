<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pubmed-cli Documentation</title>
    <style>
        :root {
            --bg: #0f172a;
            --panel: #111827;
            --panel-soft: #1f2937;
            --border: #374151;
            --text: #e5e7eb;
            --text-dim: #9ca3af;
            --accent: #38bdf8;
            --ok: #22c55e;
            --warn: #f59e0b;
            --danger: #ef4444;
            --shadow: 0 12px 40px rgba(0, 0, 0, 0.25);
        }
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: "Inter", "Segoe UI", Arial, sans-serif;
            background: radial-gradient(circle at top, #111827, #0b1020 45%, var(--bg));
            color: var(--text);
            line-height: 1.55;
        }
        .container {
            max-width: 980px;
            margin: 0 auto;
            padding: 2rem;
        }
        header {
            padding: 2.5rem 0;
            text-align: center;
            border-bottom: 1px solid var(--border);
            animation: fadeIn 500ms ease both;
        }
        h1 {
            margin: 0;
            font-size: 2rem;
            color: var(--accent);
            letter-spacing: 0.01em;
        }
        .lead {
            margin-top: 0.9rem;
            color: var(--text-dim);
        }
        .card {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
            box-shadow: var(--shadow);
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
            gap: 0.75rem;
            margin: 1.25rem 0;
        }
        .feature {
            background: var(--panel-soft);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 0.9rem;
            min-height: 120px;
        }
        .feature b { color: var(--accent); }
        .grid-title {
            font-weight: 600;
            margin-bottom: 0.4rem;
            color: var(--text);
        }
        .toc {
            background: var(--panel-soft);
            border-left: 3px solid var(--accent);
            padding: 0.8rem 1rem;
            margin: 1rem 0;
            border-radius: 10px;
        }
        .toc a { color: var(--accent); }
        pre {
            background: #020617;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 0.85rem;
            overflow: auto;
            position: relative;
        }
        code {
            font-family: "SFMono-Regular", Menlo, Monaco, Consolas, monospace;
            font-size: 0.9rem;
        }
        .copy-btn {
            position: absolute;
            right: 0.7rem;
            top: 0.7rem;
            border: 1px solid #4b5563;
            background: #1f2937;
            color: var(--text);
            border-radius: 6px;
            padding: 4px 8px;
            font-size: 0.75rem;
            cursor: pointer;
        }
        .copy-btn:hover { border-color: var(--accent); }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        th, td {
            padding: 0.75rem;
            border: 1px solid var(--border);
            text-align: left;
        }
        th { background: #182033; }
        .badge {
            display: inline-block;
            background: var(--panel-soft);
            border: 1px solid var(--border);
            border-radius: 999px;
            padding: 0.15rem 0.7rem;
            margin-right: 0.4rem;
            font-size: 0.8rem;
            color: var(--text-dim);
        }
        footer {
            margin-top: 2.5rem;
            border-top: 1px solid var(--border);
            padding-top: 1rem;
            text-align: center;
            color: var(--text-dim);
            font-size: 0.9rem;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @media (max-width: 640px) {
            .container { padding: 1rem; }
            .feature-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>pubmed-cli</h1>
            <div class="lead">A minimal PubMed CLI for searching, fetching, and cross-linking literature records.</div>
            <p><span class="badge">search</span><span class="badge">fetch</span><span class="badge">cited-by</span><span class="badge">references</span><span class="badge">related</span><span class="badge">mesh</span></p>
        </header>

        <section class="card">
            <h2>What is pubmed-cli?</h2>
            <p>Use this tool to explore PubMed programmatically without opening the browser. It supports structured query filters, link discovery, and machine-readable outputs for scripting.</p>
            <p>Current production command set on <code>main</code>: <strong>search</strong>, <strong>fetch</strong>, <strong>cited-by</strong>, <strong>references</strong>, <strong>related</strong>, <strong>mesh</strong>.</p>
        </section>

        <section class="feature-grid" aria-label="feature cards">
            <div class="feature"><div class="grid-title">Search</div><p>Query PubMed with limits and filters for types, years, and sort order.</p></div>
            <div class="feature"><div class="grid-title">Fetch</div><p>Retrieve article metadata and abstracts by PMID.</p></div>
            <div class="feature"><div class="grid-title">Link Discovery</div><p>Move in and out of citation graphs with linked records.</p></div>
            <div class="feature"><div class="grid-title">MeSH Lookup</div><p>Resolve controlled vocabulary terms and explore hierarchy fields.</p></div>
        </section>

        <section class="toc">
            <strong>Quick sections</strong>
            <ol>
                <li><a href="#search">Search</a></li>
                <li><a href="#fetch">Fetch</a></li>
                <li><a href="#links">Citation Links</a></li>
                <li><a href="#mesh">MeSH Terms</a></li>
                <li><a href="#reference">Command Reference</a></li>
                <li><a href="#flags">Common Flags</a></li>
            </ol>
        </section>

        <section id="search" class="card">
            <h2>Search</h2>
            <p>Run keyword searches, optionally narrowing by publication year and type.</p>
            <pre><code>pubmed search "fmrp syndrome" --limit 5 --year 2022-2026 --json<button class="copy-btn" onclick="copyCmd(this)">Copy</button></code></pre>
            <pre><code>pubmed search "autism" --type review --sort date --human<button class="copy-btn" onclick="copyCmd(this)">Copy</button></code></pre>
        </section>

        <section id="fetch" class="card">
            <h2>Fetch</h2>
            <p>Get full details for one or more PMIDs.</p>
            <pre><code>pubmed fetch 38000001 --human --full<button class="copy-btn" onclick="copyCmd(this)">Copy</button></code></pre>
            <pre><code>pubmed fetch 38000001,38000459 --csv results.csv<button class="copy-btn" onclick="copyCmd(this)">Copy</button></code></pre>
        </section>

        <section id="links" class="card">
            <h2>Link Discovery</h2>
            <p>Explore related content and citation paths for a given PMID.</p>
            <pre><code>pubmed cited-by 38000001 --limit 5 --json<button class="copy-btn" onclick="copyCmd(this)">Copy</button></code></pre>
            <pre><code>pubmed references 38000001 --human --limit 10<button class="copy-btn" onclick="copyCmd(this)">Copy</button></code></pre>
            <pre><code>pubmed related 38000001 --limit 5 --json<button class="copy-btn" onclick="copyCmd(this)">Copy</button></code></pre>
        </section>

        <section id="mesh" class="card">
            <h2>MeSH Terms</h2>
            <p>Translate and inspect Medical Subject Headings.</p>
            <pre><code>pubmed mesh "depression" --json<button class="copy-btn" onclick="copyCmd(this)">Copy</button></code></pre>
        </section>

        <section id="reference" class="card">
            <h2>Command Reference</h2>
            <table>
                <tr><th>Command</th><th>Purpose</th><th>Example</th></tr>
                <tr><td><code>search</code></td><td>Search PubMed</td><td><code>pubmed search "autism" --limit 10</code></td></tr>
                <tr><td><code>fetch</code></td><td>Fetch article metadata</td><td><code>pubmed fetch 12345678 --human</code></td></tr>
                <tr><td><code>cited-by</code></td><td>Get citing papers</td><td><code>pubmed cited-by 12345678 --human</code></td></tr>
                <tr><td><code>references</code></td><td>Get references from a paper</td><td><code>pubmed references 12345678 --limit 15 --json</code></td></tr>
                <tr><td><code>related</code></td><td>Get related articles</td><td><code>pubmed related 12345678 --limit 12 --json</code></td></tr>
                <tr><td><code>mesh</code></td><td>Lookup MeSH terms</td><td><code>pubmed mesh "depression" --json</code></td></tr>
            </table>
        </section>

        <section id="flags" class="card">
            <h2>Common Flags</h2>
            <table>
                <tr><th>Flag</th><th>Use</th></tr>
                <tr><td><code>--human</code></td><td>Pretty table output for terminal</td></tr>
                <tr><td><code>--json</code></td><td>Machine-readable output</td></tr>
                <tr><td><code>--csv FILE</code></td><td>Write CSV output</td></tr>
                <tr><td><code>--limit N</code></td><td>Maximum items returned</td></tr>
                <tr><td><code>--year YYYY-YYYY</code></td><td>Filter by publication year</td></tr>
                <tr><td><code>--type TYPE</code></td><td>Filter by publication type</td></tr>
                <tr><td><code>--sort ORDER</code></td><td>Sort by relevance/date/cited</td></tr>
                <tr><td><code>--full</code></td><td>Include full abstract text (fetch)</td></tr>
            </table>
            <p>For full flag lists, run <code>pubmed &lt;command&gt; --help</code>.</p>
        </section>

        <section class="card">
            <h2>State of the Branch</h2>
            <p><span class="badge" style="border-color: var(--ok); color: var(--ok);">Non-AI main branch</span> This documentation and command set represent the <code>main</code> branch after removing AI-only commands and dependencies.</p>
        </section>

        <footer>
            <p>pubmed-cli documentation Â· GitHub: <a href="https://github.com/henrybloomingdale/pubmed-cli">henrybloomingdale/pubmed-cli</a></p>
        </footer>
    </div>

    <script>
        function copyCmd(btn) {
            const code = btn.parentElement.textContent.replace(/Copy$/, '').trim();
            navigator.clipboard.writeText(code).then(() => {
                btn.textContent = 'Copied!';
                setTimeout(() => btn.textContent = 'Copy', 1000);
            }).catch(() => {
                btn.textContent = 'Failed';
                setTimeout(() => btn.textContent = 'Copy', 1000);
            });
        }
    </script>
</body>
</html>
